# =============================================================================
# DOMUS REPORT - Environment Variables
# =============================================================================
# Questo file è solo un riferimento. NON usarlo direttamente.
# Configura tutte le variabili su Vercel Dashboard → Settings → Environment Variables
# =============================================================================

# -----------------------------------------------------------------------------
# APP URLs (CRITICO per Stripe redirect)
# -----------------------------------------------------------------------------
# IMPORTANTE: Deve essere l'URL di produzione su Vercel
NEXT_PUBLIC_APP_URL=https://domusreport.mainstream.agency
NEXTAUTH_URL=https://domusreport.mainstream.agency

# Per sviluppo locale, usa:
# NEXT_PUBLIC_APP_URL=http://localhost:3000
# NEXTAUTH_URL=http://localhost:3000

# -----------------------------------------------------------------------------
# DATABASE - PostgreSQL (Neon)
# -----------------------------------------------------------------------------
# Usa la POOLED connection string da Neon dashboard
DATABASE_URL=postgresql://user:password@ep-xxx.eu-central-1.aws.neon.tech/domusreport?sslmode=require&pgbouncer=true

# -----------------------------------------------------------------------------
# AUTHENTICATION - JWT
# -----------------------------------------------------------------------------
# Genera con: openssl rand -base64 32
NEXTAUTH_SECRET=your-super-secret-jwt-key-min-32-chars

# -----------------------------------------------------------------------------
# STRIPE - Pagamenti (IMPORTANTE: usa LIVE keys in produzione)
# -----------------------------------------------------------------------------
# Per produzione: sk_live_..., whsec_..., pk_live_...
# Per sviluppo: sk_test_..., whsec_..., pk_test_...
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_...

# Non più necessari (gestiti dinamicamente via API):
# STRIPE_PRICE_BASIC_MONTHLY=price_...
# STRIPE_PRICE_PREMIUM_MONTHLY=price_...

# -----------------------------------------------------------------------------
# OPENAI API - GPT per generazione report
# -----------------------------------------------------------------------------
OPENAI_API_KEY=sk-proj-...

# -----------------------------------------------------------------------------
# GOOGLE MAPS API - Geocoding indirizzi
# -----------------------------------------------------------------------------
GOOGLE_MAPS_API_KEY=AIza...

# -----------------------------------------------------------------------------
# N8N WEBHOOK - Automazioni (Opzionale)
# -----------------------------------------------------------------------------
N8N_WEBHOOK_URL=https://your-n8n-instance.com/webhook/...

# -----------------------------------------------------------------------------
# RESEND API - Email transazionali
# -----------------------------------------------------------------------------
RESEND_API_KEY=re_...
RESEND_FROM_EMAIL=noreply@domusreport.mainstream.agency

# -----------------------------------------------------------------------------
# VERCEL BLOB - Upload logo agenzie
# -----------------------------------------------------------------------------
BLOB_READ_WRITE_TOKEN=vercel_blob_...

# -----------------------------------------------------------------------------
# CRON SECRET - Per analytics aggregation
# -----------------------------------------------------------------------------
CRON_SECRET=your-cron-secret-key-change-in-production

# -----------------------------------------------------------------------------
# WIDGET CDN URL (Opzionale - default: stesso di NEXT_PUBLIC_APP_URL)
# -----------------------------------------------------------------------------
NEXT_PUBLIC_WIDGET_CDN_URL=https://domusreport.mainstream.agency

# =============================================================================
# COME USARE QUESTO FILE
# =============================================================================
# 1. NON creare file .env.local o .env.production localmente
# 2. Configura TUTTE le variabili su Vercel Dashboard
# 3. Per sviluppo locale, crea .env.local solo se necessario (NON committare)
# 4. Vercel gestisce automaticamente dev/preview/production environments
# =============================================================================
